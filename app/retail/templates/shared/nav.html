{% comment %}
    Copyright (C) 2017 Gitcoin Core

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published
    by the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program. If not, see <http://www.gnu.org/licenses/>.

{% endcomment %}
{% load i18n static %}
{% load is_in_list %}
<nav class="navbar navbar-expand-md navbar-dark">
  <div id="gitcoin-background"></div>
  <a class="navbar-brand pt-0 pb-0" href="/">
    {% if request.path == '/ios' %}
      <img id="logo" src="{% static "v2/images/ios/gitcoin.svg" %}" data-hover="{% static "v2/images/ios/gitcoin_hover.gif" %}" height="50" />
    {% else %}
      <img id="logo" src="{% static "v2/images/logo_large.png" %}" data-hover="{% static "v2/images/logo_med_hover.gif" %}" width="180" height="60" />
    {% endif %}
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <nav class="navbar-nav ml-auto mr-3">
      {% if request.path == '/' %}
        <span class="navbar__cta mr-2">Want to get help on your repo? Easily get started!</span>
      {% endif %}
      {% if is_outside %}
      <a class="nav-link {% if active == 'about' %}selected{%endif%}" href="{% url "about" %}">{% trans "About" %}</a>
      <a class="nav-link{% if active == 'mission' %} selected{% endif %}" href="{% url "mission" %}">{% trans "Mission" %}</a>
      <a class="nav-link{% if active == 'results' %} selected{% endif %}" href="{% url "results" %}">{% trans "Results" %}</a>
      <a class="nav-link slack{% if active == 'slack' %} selected{% endif %}" href="{% url "slack" %}">
        <i class="fab fa-slack-hash" aria-hidden="true"></i><span class="nav-link__text">Slack</span>({{num_slack}})
      </a>
      <a class="nav-link{% if active == 'dashboard' %} selected{% endif %} interior" href="{% url "explorer" %}">{% trans "Issue Explorer" %}</a>
      {% else %}
      <a class="nav-link{% if active == 'dashboard' %} selected{% endif %} interior" href="{% url "explorer" %}">{% trans "Issue Explorer" %}</a>

      <div class="nav-item dropdown interior">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
          data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          TOOLS
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="{% url "tip" %}">
            <i class="far fa-paper-plane"></i>
            {% trans "Send Tip" %}
          </a>
          <a class="dropdown-item" href="{% url "new_funding" %}">
            <i class="fas fa-credit-card"></i>
            {% trans "Fund Issue" %}
          </a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="{% url "_leaderboard" %}">
            <i class="fas fa-space-shuttle"></i>
            {% trans "Leaderboard" %}
          </a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="{% url "universe_index" %}">
            <i class="fas fa-globe"></i>
            {% trans "Bounties Universe" %}
          </a>
          <a class="dropdown-item" href="{% url "faucet" %}">
            <i class="fas fa-tint"></i>
            {% trans "Mainnet Faucet" %}
          </a>
          <a class="dropdown-item" href="https://github.com/gitcoinco/web/blob/master/docs/API.md">
            <i class="fas fa-terminal"></i>
            {% trans "API" %}
          </a>
          <a class="dropdown-item" href="{% url "ens" %}">
            <i class="fas fa-server"></i>
            {% trans "ENS Subdomains" %}
          </a>
          <a class="dropdown-item" href="https://codefund.io">
            <i class="fas fa-ship"></i>
            {% trans "Code Fund" %}
          </a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="{% url "tools" %}">
            {% trans "View All Tools" %}
          </a>
        </div>
      </div>

      <a class="nav-link{% if active == 'help' %} selected{% endif %} interior" href="{% url "help" %}">
        <span class="nav-link__icon hidden"><i class="fas fa-info"></i></span>
        <span class="nav-link__text">{% trans " Help" %}</span>
      </a>
      {% endif %}
      {% if request.path == '/' %}
        {% if user.is_authenticated %}
          <a href="{% url "new_funding" %}" class="btn btn-gc-blue interior">
            <i class="fab fa-ethereum" role="aria-hidden"></i>
            Fund an Issue
          </a>
        
        {% else %}
          <a href="{% url 'social:begin' 'github' %}?next={% url "new_funding" %}"   class="btn btn-gc-blue interior">
            <i class="fab fa-ethereum" role="aria-hidden"></i>
            Login &amp; Fund an Issue
          </a>
        {% endif %}
      {% endif %}
      {% if request.path != '/' or user.is_authenticated %}
        <img class="d-none d-md-block img__spaceship" src="{% static "v2/images/spaceship.png" %}" width="52" height="45" />
        {% include 'shared/nav_auth.html' with source='authed' %}
      {% endif %}
    </nav>
  </div>
</nav>
