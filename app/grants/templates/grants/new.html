{% comment %}
  Copyright (C) 2018 Gitcoin Core

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published
  by the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program. If not, see <http://www.gnu.org/licenses/>.
{% endcomment %}
{% load static i18n %}
<!DOCTYPE html>
<html lang="en">
  <head>
    {% include 'shared/head.html' %}
    {% include 'shared/cards.html' %}
    <link rel="stylesheet" href="{% static "v2/css/grants/new.css" %}">
    <link rel="stylesheet" href="{% static "v2/css/bounty.css" %}">
  </head>
  <body class="interior {{ active }} grant g-font-muli">
    {% include 'shared/tag_manager_2.html' %}
    <div class="container-fluid header dash">
      {% include 'shared/nav.html' %}
    </div>

    <div class="row no-gutter grant_waiting" style="display: none;">
      <div class="col-12 offset-md-1 col-md-10 offset-lg-1 col-lg-8 body ">
        {% include 'shared/bounty_waiting_state.html' %}
        <div class="row ml-2 mr-2 pl-4 pr-4 waiting_room_entertainment" style="display: none; text-align: center">
          {% include 'shared/rain.html' with class="color" %}
          <div class="quote-container">
            <img src="{% static "v2/images/quotes.png" %}" style="float: left; max-width: 22px;" />
            <div class="quote_text"></div>body
            <div class="quote_author"></div>
            <input id="quoteRefresh" class="button button--primary" name="refresh" type='submit' onclick='javascript:waitingRoomEntertainment()' value="Refresh Quote" >
          </div>
        </div>
      </div>
    </div>

    <div class="container new-grant" id="new-grant">
      <div class="row justify-content-md-center">
        <div class="col-sm-12 col-md-10 col-lg-6">
          <div class="form__intro text-center">
            <h1>{% trans "Create a Grant" %}</h1>
            <p>{% trans "We're excited to learn about your project. Complete the form below to get funding for your project." %}</p>
          </div>
          <form action="{% url 'grants:new' %}" method="POST" id="create-grant" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form__group-horizontal">
              <label class="form__label" for="input_name">{% trans "Name of Project" %}</label>
              <input class="form__input" type="text" id="input_name" name="input_name" required />
            </div>

            <div class="form__group-horizontal">
              <label class="form__label" for="input-description">{% trans "Description of Project" %}</label>
              <textarea class="form__input" type="text" id="input-description" name="description" required></textarea>
            </div>

            <div class="form__group-horizontal">
              <label class="form__label" for="input-url">{% trans "Project URL" %}</label>
              <input type="url" class="form__input" id="input-url" name="reference_url" required/>
            </div>

            <div class="form__group-horizontal">
              <label class="form__label" for="input-team_members">{% trans "Team members" %}</label>
              <div class="form__select2">
                <select id="input-team_members" class="form__input team_members" name="team_members[]" multiple="multiple">
                </select>
              </div>
            </div>

            <div class="form__group-horizontal">
              <label class="form__label">{% trans "Total amount sought for grant" %}</label>
              <div class="row">
                <div class="col-8">
                  <input type="number" name="amount_goal" class="form__input" required />
                </div>
                <div class="col-4">
                  <div class="form__select2">
                    <select class='js-select2' name='denomination' id='js-token'></select>
                  </div>
                </div>
              </div>
            </div>

            <div class="form__group-horizontal">
              <label class="form__label" for="input-admin_address">{% trans "Admin Address" %}</label>
              <input type="text" class="form__input" id="input-adminAddress" placeholder="{% trans 'Enter the address you would like funds sent to' %}" name="admin_address" />
            </div>

            <div class="form__group-horizontal frequency">
              <label class="form__label">{% trans "Frequency of payments" %}</label>
              <div class="row">
                <div class="col-8">
                  <input type="number" id="frequency_count" name="frequency" class="form__input" value='30' required />
                </div>
                <div class="col-4 font-body">
                  <select onchange="validate()" name="frequency_unit" id="frequency_unit" style="width: 100%">
                    <option value="minutes">{% trans "minutes" %}</option>
                    <option value="hours">{% trans "hours" %}</option>
                    <option value="days" selected="selected">{% trans "days" %}</option>
                    <option value="months">{% trans "months" %}</option>
                    <option value="any">{% trans "any" %}</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- <div class="form__group-horizontal milestones">
              <label class="form__label">{% trans "Milestones and projected timeline" %}</label>
              <div class="milestone-form">
                <div class="row" id="milestone0">
                  <div class="col-12">
                    <input type="text" class="form__input" placeholder="Title" name="milestone-title[0]" required/>
                    <input type="date" class="form__input" placeholder="Date" name="milestone-date[0]" required/>
                    <textarea class="form__input" type="text" placeholder="Description" name="milestone-description[0]" required></textarea>
                  </div>
                </div>
              </div>

              <span id="new-milestone">+ {% trans "Add new milestone" %}</span>
            </div> -->

            <div class="form__group-horizontal">
              <label class="form__label">{% trans "Project Logo" %}</label>
              <div class="form__drop" id="js-drop">
                <input id="img-project" type="file" name="input_image" accept="image/*">
                <span>{% trans "Drag & Drop or Browse" %}</span>
                <img id="preview"/>
              </div>
            </div>

            <div class="form__footer text-center">
              <button class="button button--primary">{% trans "Create Grant" %}</button>
            </div>

            <div>
              <input type="hidden" class="form__input" id="transaction_hash" name="transaction_hash" />
              <input type="hidden" class="form__input" id="contract_address" name="contract_address" />
              <input type="hidden" class="form__input" id="network" name="network" />
            </div>
          </form>
        </div>
      </div>
    </div>

    {% include 'shared/current_profile.html' %}
    {% include 'shared/bottom_notification.html' %}
    {% include 'shared/analytics.html' %}
    {% include 'shared/footer_scripts.html' %}
    {% include 'shared/footer.html' %}
  </body>

  <!-- jQuery -->
  <script src="{% static "v2/js/abi.js" %}"></script>
  <script src="/dynamic/js/tokens_dynamic.js"></script>
  <script src="{% static "v2/js/tokens.js" %}"></script>
  <!-- <script src="{% static "v2/js/pages/shared_bounty_mutation_estimate_gas.js" %}"></script> -->
  <script src="{% static "v2/js/shared.js" %}"></script>
  <script src="{% static "v2/js/ipfs-api.js" %}"></script>
  <script src="{% static "v2/js/ipfs.js" %}"></script>
  <script src="{% static "v2/js/grants/compiledSubscriptionContract.js" %}"></script>
  <script src="{% static "v2/js/user-search.js" %}"></script>
  <script src="{% static "v2/js/grants/new.js" %}"></script>
  <script src="{% static "v2/js/waiting_room_entertainment.js" %}"></script>
</html>
